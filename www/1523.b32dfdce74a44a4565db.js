(self.webpackChunksngy_bab3=self.webpackChunksngy_bab3||[]).push([[1523],{1523:(t,n,e)=>{"use strict";e.r(n),e.d(n,{ResultPageModule:()=>p});var i=e(6274),o=e(4988),l=e(5401),r=e(3991),s=e(1855),a=e(2755),c=e(3606),g=e(8213);function u(t,n){if(1&t&&(c.TgZ(0,"ion-row",9),c.TgZ(1,"ion-col",10),c.TgZ(2,"ion-label"),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"ion-col",11),c.TgZ(5,"ion-label"),c._uU(6),c.qZA(),c.qZA(),c.TgZ(7,"ion-col",12),c.TgZ(8,"ion-label"),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"ion-col",13),c.TgZ(11,"ion-label"),c._uU(12),c.qZA(),c.qZA(),c.qZA()),2&t){const t=n.$implicit;c.Q6J("ngClass",n.last&&"last-row"),c.xp6(3),c.Oqu(t.name),c.xp6(3),c.Oqu(t.menu),c.xp6(3),c.Oqu(t.cnt+"\uac1c"),c.xp6(3),c.Oqu(t.price.toLocaleString("ko-KR")+"\uc6d0")}}function h(t,n){if(1&t&&(c.TgZ(0,"ion-row"),c.TgZ(1,"ion-col",14),c.TgZ(2,"ion-label"),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"ion-col"),c.TgZ(5,"ion-label"),c._uU(6),c.qZA(),c.qZA(),c.qZA()),2&t){const t=n.$implicit;c.xp6(3),c.Oqu(t[0]),c.xp6(3),c.Oqu(t[1])}}const d=(t,n)=>(0,s.mG)(void 0,void 0,void 0,function*(){yield a.K.set({key:t,value:n})}),m=[{path:"",component:(()=>{class t{constructor(t,n){this.navCtrl=t,this.api=n,this.menuList=[],this.countList=[],this.counts={},this.totalAmount=0,this.totalPeople=0,this.setToday(),this.getMenuList()}getValue(t){return(0,s.mG)(this,void 0,void 0,function*(){return yield a.K.get({key:t})})}setToday(){const t=new Date,n=t.getFullYear(),e=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2),o=t.getHours();this.today=o<16?"L"+n+e+i:"D"+n+e+i}setCountList(){this.countList=Object.entries(this.counts).sort(),this.countList.map(t=>{this.totalPeople+=t[1]})}setMenuInfo(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.getValue("userName").then(t=>{this.userName=t.value?t.value:"---"}),yield this.getValue("url").then(t=>{this.url=t.value?t.value:"---"}),yield this.getValue("menu").then(t=>{this.menu=t.value?t.value:"---"}),yield this.getValue("infoId").then(t=>{this.infoId=t.value?t.value:"---"}),yield this.getValue("selectState").then(t=>{this.selectState=t.value?t.value:null}),yield this.getValue("orderState").then(t=>{this.orderState=t.value?t.value:null})})}getMenuList(){this.api.getApi("menu",this.today).subscribe(t=>{this.menuList=JSON.parse(JSON.stringify(t)),this.menuList.forEach(t=>{this.counts[t.menu]=(this.counts[t.menu]||0)+t.cnt,this.totalAmount+=t.price*t.cnt}),this.setCountList()},t=>{console.log(JSON.stringify(t))})}updateState(t){return(0,s.mG)(this,void 0,void 0,function*(){yield this.api.getApi("badal",this.today).subscribe(t=>{t=JSON.parse(JSON.stringify(t)),this.userName=t[0].name,this.url=t[0].url,this.menu=t[0].menu,d("userName",t[0].name),d("url",t[0].url),d("menu",t[0].menu)},t=>{console.log(JSON.stringify(t))}),yield this.setMenuInfo(),yield this.api.putApi("badal",this.infoId,{name:this.userName,url:this.url,menu:this.menu,etc:t}).subscribe(t=>{console.log(JSON.stringify(t))},t=>{console.log(JSON.stringify(t))})})}goBack(){this.navCtrl.back(),location.reload()}onComplete(t){"\uc120\ud0dd\ub9c8\uac10"===t?(this.selectState=!this.selectState,d("selectState",this.selectState),this.updateState(this.selectState?t:"\uc120\ud0dd\uc911")):"\uc8fc\ubb38\uc644\ub8cc"===t&&(this.orderState=!this.orderState,d("orderState",this.orderState),this.updateState(this.orderState?t:"\uc120\ud0dd\uc911"))}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(l.SH),c.Y36(g.s))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-result"]],decls:32,vars:5,consts:[[3,"fullscreen"],["id","menu"],[3,"click"],["name","arrow-back-circle"],[3,"ngClass",4,"ngFor","ngForOf"],["id","receipt"],[4,"ngFor","ngForOf"],["size","8",1,"result"],[1,"last-row"],[3,"ngClass"],["size","2",1,"align-left"],["size","5",1,"align-left"],["size","1.5",1,"align-left"],["size","3",1,"align-right"],["size","8"]],template:function(t,n){1&t&&(c.TgZ(0,"ion-content",0),c.TgZ(1,"ion-card",1),c.TgZ(2,"ion-list"),c.TgZ(3,"ion-list-header"),c.TgZ(4,"ion-buttons"),c.TgZ(5,"ion-button",2),c.NdJ("click",function(){return n.goBack()}),c._UZ(6,"ion-icon",3),c.qZA(),c.qZA(),c.TgZ(7,"h2"),c._uU(8,"\uc624\ub298\uc758 \uba54\ub274"),c.qZA(),c.qZA(),c.TgZ(9,"ion-grid"),c.YNc(10,u,13,5,"ion-row",4),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"ion-card",5),c.TgZ(12,"ion-list"),c.TgZ(13,"ion-list-header"),c.TgZ(14,"h2"),c._uU(15,"\uc8fc\ubb38\uc11c"),c.qZA(),c.qZA(),c.TgZ(16,"ion-grid"),c.YNc(17,h,7,2,"ion-row",6),c.TgZ(18,"ion-row"),c.TgZ(19,"ion-col",7),c.TgZ(20,"ion-label"),c._uU(21,"\ucd1d \uc778\uc6d0"),c.qZA(),c.qZA(),c.TgZ(22,"ion-col"),c.TgZ(23,"ion-label"),c._uU(24),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"ion-row",8),c.TgZ(26,"ion-col",7),c.TgZ(27,"ion-label"),c._uU(28,"\ucd1d \uae08\uc561"),c.qZA(),c.qZA(),c.TgZ(29,"ion-col"),c.TgZ(30,"ion-label"),c._uU(31),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.Q6J("fullscreen",!0),c.xp6(10),c.Q6J("ngForOf",n.menuList),c.xp6(7),c.Q6J("ngForOf",n.countList),c.xp6(7),c.hij(" ",n.totalPeople?n.totalPeople+"\uba85":"-"," "),c.xp6(7),c.hij(" ",n.totalAmount?n.totalAmount+"\uc6d0":"-"," "))},directives:[l.W2,l.PM,l.q_,l.yh,l.Sm,l.YG,l.gu,l.jY,i.sg,l.Nd,l.wI,l.Q$,i.mk],styles:["h2[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-right:3vw}ion-content[_ngcontent-%COMP%]{--ion-background-color:#dae0e9}ion-card[_ngcontent-%COMP%]{margin:3.7vw;padding-bottom:1.5vh;border-radius:.9rem;overflow:hidden;--ion-background-color:#fff;min-height:47vh}ion-list-header[_ngcontent-%COMP%]{margin-top:1vh}ion-grid[_ngcontent-%COMP%]{width:78vw;padding:0;margin-top:1.7vh;color:#000;text-align:center;border-collapse:collapse}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{padding:.1rem;border:solid #ccc;border-width:.25vmin 0 0;min-height:2.5vh;align-items:center}ion-grid[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.95rem}ion-grid[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]{border:solid #cacaca;border-width:.25vmin 0}ion-grid[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{background-color:#eaeaea;font-weight:700}#menu[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#002f67;font-size:1.6rem;margin:3vmin 3vmin 1vmin}#menu[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{height:2.5vh;margin-top:2vh}#menu[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.6rem}#complete[_ngcontent-%COMP%]{height:1.8rem;padding:0 .4rem;margin-left:3.5rem;border:.25vmin solid #768dab;border-radius:.6rem}#complete[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#002f67;font-size:.78rem}#complete[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0;color:#002f67;font-size:.88rem;padding:1vmin}#receipt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:7vw}#receipt[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:1.9rem;padding:0 .4rem;margin-left:8.3rem;border:.25vmin solid #768dab;border-radius:.6rem}#receipt[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#002f67;font-size:.78rem}#receipt[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#002f67;font-size:.88rem;padding:1vmin}.align-left[_ngcontent-%COMP%]{text-align:left}.align-right[_ngcontent-%COMP%]{text-align:right}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.Bz.forChild(m)],r.Bz]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.ez,o.u5,l.Pc,Z]]}),t})()}}]);